# üìã –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –ú–æ–¥—É–ª—å–Ω–æ—ó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ | Interface Contracts Summary

## üìç –ù–∞–≤—ñ–≥–∞—Ü—ñ—è

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –ø—Ä–æ—î–∫—Ç—É –∑ —ó—Ö –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º, –º–µ—Ç–æ–¥–∞–º–∏ —Ç–∞ –≤–∑–∞—î–º–æ–∑–≤'—è–∑–∫–∞–º–∏.

---

## üéØ Domain Layer Interfaces

### UseCase<P, R>
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../UseCase.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –≤—Å—ñ—Ö –±—ñ–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü—ñ–π  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Single Responsibility, Command Pattern

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
abstract suspend fun execute(parameters: P): Result<R>
suspend operator fun invoke(parameters: P): Result<R>
```

---

### DtcRepository
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../repository/DtcRepository.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ DTC –∫–æ–¥—ñ–≤  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Repository Pattern, Dependency Inversion

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
suspend fun getDtcCodes(vehicleId: String, includeCleared: Boolean = false): List<DtcCode>
suspend fun getDtcByCode(code: String): DtcCode?
suspend fun saveDtcCode(dtcCode: DtcCode): Result<Unit>
suspend fun saveDtcCodes(dtcCodes: List<DtcCode>): Result<Int>
suspend fun clearDtcCodes(vehicleId: String): Result<Unit>
suspend fun markDtcAsCleared(code: String): Result<Unit>
suspend fun searchDtcCodes(query: String): List<DtcCode>
suspend fun getActiveDtcCount(vehicleId: String): Int
suspend fun getCriticalDtcCodes(vehicleId: String): List<DtcCode>
```

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**: `DtcRepositoryImpl` (–≤ core/data)  
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: GetDtcCodesUseCase, ClearDtcCodesUseCase

---

### VehicleRepository
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../repository/VehicleRepository.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—è–º–∏  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: CRUD Operations, Repository Pattern

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
suspend fun getAllVehicles(): List<Vehicle>
suspend fun getVehicleById(id: String): Vehicle?
suspend fun getVehicleByVin(vin: String): Vehicle?
suspend fun saveVehicle(vehicle: Vehicle): Result<String>
suspend fun updateVehicle(vehicle: Vehicle): Result<Unit>
suspend fun deleteVehicle(id: String): Result<Unit>
suspend fun searchVehicles(query: String): List<Vehicle>
suspend fun getLastUsedVehicle(): Vehicle?
suspend fun setLastUsedVehicle(id: String): Result<Unit>
```

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**: `VehicleRepositoryImpl` (–≤ core/data)  
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: GetVehicleUseCase, SaveVehicleUseCase

---

### DiagnosticSessionRepository
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../repository/DiagnosticSessionRepository.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Å—ñ—è–º–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Session Management, Repository Pattern

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
suspend fun createSession(vehicleId: String): DiagnosticSession
suspend fun updateSession(session: DiagnosticSession): Result<Unit>
suspend fun completeSession(sessionId: String, dtcCodes: List<DtcCode>): DiagnosticSession
suspend fun cancelSession(sessionId: String): DiagnosticSession
suspend fun getActiveSession(): DiagnosticSession?
suspend fun getSessionById(sessionId: String): DiagnosticSession?
suspend fun getSessionHistory(vehicleId: String, limit: Int = 50): List<DiagnosticSession>
suspend fun getLastCompletedSession(vehicleId: String): DiagnosticSession?
suspend fun deleteSession(sessionId: String): Result<Unit>
suspend fun deleteAllSessions(vehicleId: String): Result<Unit>
suspend fun getSessionStatistics(vehicleId: String): SessionStatistics
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**: `SessionStatistics`  
**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**: `DiagnosticSessionRepositoryImpl` (–≤ core/data)

---

## üîå Transport Layer Interfaces

### Port
**–§–∞–π–ª**: `hardware/transport/src/main/kotlin/.../Port.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ë–∞–∑–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Interface Segregation, Dependency Inversion

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
suspend fun open(): Result<Boolean>
suspend fun close()
suspend fun write(data: ByteArray): Result<Boolean>
suspend fun read(timeout: Long = 1000): Result<ByteArray>
suspend fun flush(): Result<Unit>
val isConnected: Boolean
val info: PortInfo
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `PortInfo(type, address, name, capabilities)`
- `PortType` enum: BLUETOOTH, USB_SERIAL, TCP, MOCK
- `Capability` enum: HIGH_SPEED, BIDIRECTIONAL, FLOW_CONTROL, AUTO_RECONNECT

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**:
- `BluetoothPort` - Bluetooth SPP –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è
- `UsbSerialPort` - USB –∑ CH340/FTDI/CP2102
- `TcpPort` - TCP/IP (WiFi –∞–¥–∞–ø—Ç–µ—Ä–∏)
- `MockPort` - –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: ConnectionManager, ObdInterface

---

### ConnectionManager
**–§–∞–π–ª**: `hardware/transport/src/main/kotlin/.../ConnectionManager.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –∑'—î–¥–Ω–∞–Ω—å  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Facade Pattern, Connection Pooling

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
val connectionState: StateFlow<ConnectionState>
suspend fun connect(config: ConnectionConfig): Result<Port>
suspend fun disconnect()
fun getCurrentPort(): Port?
fun getCurrentConfig(): ConnectionConfig?
suspend fun isDeviceAvailable(config: ConnectionConfig): Boolean
suspend fun scanDevices(): List<DeviceInfo>
suspend fun scanDevices(type: Port.PortType): List<DeviceInfo>
fun setAutoReconnect(enabled: Boolean, maxAttempts: Int = 3, retryDelay: Long = 2000)
suspend fun checkConnection(): Result<Boolean>
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `ConnectionConfig(type, address, baudRate, timeout, name)`
- `DeviceInfo(name, address, type, isAvailable, signalStrength, isPaired)`
- `ConnectionState` sealed class: Disconnected, Connecting, Connected, Error, Reconnecting

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**: `ConnectionManagerImpl`  
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: DtcViewModel, LiveDataViewModel, UI –µ–∫—Ä–∞–Ω–∏

---

## üîß Protocol Layer Interfaces

### ObdInterface
**–§–∞–π–ª**: `protocols/obd/src/main/kotlin/.../ObdInterface.kt`  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è OBD-II –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: Command Pattern, Strategy Pattern

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
suspend fun initialize(): Result<Boolean>
suspend fun sendCommand(command: ObdCommand): Result<ObdResponse>
suspend fun readDtcCodes(): Result<List<String>>
suspend fun readPendingDtcCodes(): Result<List<String>>
suspend fun clearDtcCodes(): Result<Boolean>
suspend fun readPid(pid: String): Result<PidData>
suspend fun readMultiplePids(pids: List<String>): Result<Map<String, PidData>>
suspend fun detectProtocol(): Result<ObdProtocol>
suspend fun setProtocol(protocol: ObdProtocol): Result<Unit>
fun isConnected(): Boolean
suspend fun getAdapterInfo(): Result<AdapterInfo>
suspend fun readVin(): Result<String>
suspend fun readFreezeFrame(dtcCode: String): Result<FreezeFrameData>
suspend fun close()
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `PidData(pid, value, unit, name, timestamp)`
- `AdapterInfo(type, version, protocols, currentProtocol)`
- `FreezeFrameData(dtcCode, engineSpeed, vehicleSpeed, coolantTemp, loadValue, fuelPressure, throttlePosition)`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**:
- `Elm327Adapter` - ELM327 –∞–¥–∞–ø—Ç–µ—Ä–∏ (–Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ)
- `KWP2000Adapter` - VAG –ø—Ä–æ—Ç–æ–∫–æ–ª
- `UDSAdapter` - Unified Diagnostic Services

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: DtcRepository, LiveDataRepository

---

## üìä Domain Models

### DtcCode
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../DtcCode.kt`  
**–¢–∏–ø**: Data Class (Rich Domain Model)

#### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:
```kotlin
val code: String
val description: String
val severity: Severity
val causes: List<String>
val solutions: List<String>
val affectedSystems: List<String>
val timestamp: Long?
val freezeFrame: FreezeFrame?
```

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
fun requiresImmediateAttention(): Boolean
fun formatForDisplay(): String
fun isActive(): Boolean
fun getSystemType(): SystemType
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `Severity` enum: LOW, MEDIUM, HIGH, CRITICAL
- `SystemType` enum: POWERTRAIN, CHASSIS, BODY, NETWORK, UNKNOWN
- `FreezeFrame` data class

---

### Vehicle
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../Vehicle.kt`  
**–¢–∏–ø**: Data Class (Value Object)

#### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:
```kotlin
val id: String
val make: String
val model: String
val year: Int
val vin: String
val protocol: Protocol
val ecuAddresses: List<String>
val engineType: EngineType
val transmissionType: TransmissionType
```

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
fun supportsAdvancedDiagnostics(): Boolean
fun hasValidVin(): Boolean
fun getDisplayName(): String
fun isModernVehicle(): Boolean
fun requiresSpecializedAdapter(): Boolean
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `Protocol` enum: 10 –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤ (ISO, CAN, KWP, UDS, manufacturer-specific)
- `EngineType` enum: GASOLINE, DIESEL, HYBRID, ELECTRIC, NATURAL_GAS, LPG
- `TransmissionType` enum: MANUAL, AUTOMATIC, CVT, DCT

---

### DiagnosticSession
**–§–∞–π–ª**: `core/domain/src/main/kotlin/.../DiagnosticSession.kt`  
**–¢–∏–ø**: Data Class (Aggregate Root)

#### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:
```kotlin
val id: String
val vehicleId: String
val startTime: Long
val endTime: Long?
val status: SessionStatus
val dtcCodes: List<DtcCode>
val liveData: Map<String, Any>
val notes: String
val connectionType: ConnectionType
```

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
fun complete(dtcCodes: List<DtcCode>): DiagnosticSession
fun fail(reason: String): DiagnosticSession
fun cancel(): DiagnosticSession
fun addLiveData(pid: String, value: Any): DiagnosticSession
fun addNote(note: String): DiagnosticSession
fun isActive(): Boolean
fun isCompleted(): Boolean
fun getDuration(): Long?
fun getFormattedDuration(): String
fun hasCriticalErrors(): Boolean
fun countDtcCodesBySeverity(severity: DtcCode.Severity): Int
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `ConnectionType` enum: BLUETOOTH, WIFI, USB, UNKNOWN

**–ó–æ–≤–Ω—ñ—à–Ω—ñ —Ç–∏–ø–∏**:
- `SessionStatus` enum: ACTIVE, COMPLETED, FAILED, CANCELLED

---

## üé® Presentation Layer Interfaces

### BaseViewModel<S, E>
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ë–∞–∑–æ–≤–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è ViewModels  
**–ü—Ä–∏–Ω—Ü–∏–ø–∏**: MVI Pattern, Unidirectional Data Flow

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
val uiState: StateFlow<S>
val effects: SharedFlow<UiEffect>
fun handleEvent(event: E)
```

**–ú–∞—Ä–∫–µ—Ä–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**:
- `UiState` - –¥–ª—è –∫–ª–∞—Å—ñ–≤ —Å—Ç–∞–Ω—É UI
- `UiEvent` - –¥–ª—è –ø–æ–¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `UiEffect` - –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ (–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è, toast)

---

## üìê Protocol Support Types

### ObdProtocol
**–§–∞–π–ª**: `protocols/obd/src/main/kotlin/.../ObdProtocol.kt`  
**–¢–∏–ø**: Enum Class

#### –ó–Ω–∞—á–µ–Ω–Ω—è:
- `J1850_PWM` - SAE J1850 PWM (Ford —Å—Ç–∞—Ä—ñ)
- `J1850_VPW` - SAE J1850 VPW (GM, Chrysler —Å—Ç–∞—Ä—ñ)
- `ISO_9141_2` - ISO 9141-2 (–∞–∑—ñ–∞—Ç—Å—å–∫—ñ —Å—Ç–∞—Ä—ñ)
- `ISO_14230_4_KWP_5BAUD` - ISO 14230-4 KWP
- `ISO_14230_4_KWP_FAST` - ISO 14230-4 KWP fast init
- `ISO_15765_4_CAN_11BIT_500K` - **–ù–ê–ô–ü–û–®–ò–†–ï–ù–Ü–®–ò–ô** (—Å—É—á–∞—Å–Ω—ñ –∞–≤—Ç–æ)
- `ISO_15765_4_CAN_29BIT_500K` - CAN 29-bit
- `ISO_15765_4_CAN_11BIT_250K` - CAN 11-bit 250k
- `ISO_15765_4_CAN_29BIT_250K` - CAN 29-bit 250k
- `J1939_CAN` - SAE J1939 (–≤–∞–Ω—Ç–∞–∂—ñ–≤–∫–∏)
- `AUTO` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
fun isStandardObd2(): Boolean
fun supportsExtendedAddressing(): Boolean
```

---

### ObdCommand
**–§–∞–π–ª**: `protocols/obd/src/main/kotlin/.../ObdCommand.kt`  
**–¢–∏–ø**: Sealed Class

#### –Ü—î—Ä–∞—Ä—Ö—ñ—è:
- `ObdCommand.AT` - –∫–æ–º–∞–Ω–¥–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞ (Reset, Echo, SetProtocol)
- `ObdCommand.Mode01` - –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ (EngineRPM, VehicleSpeed, ThrottlePosition)
- `ObdCommand.ReadDTC` - Mode 03
- `ObdCommand.ClearDTC` - Mode 04
- `ObdCommand.Mode09` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≤—Ç–æ (VIN, CalibrationID)
- `ObdCommand.Custom` - –¥–æ–≤—ñ–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞

---

### ObdResponse
**–§–∞–π–ª**: `protocols/obd/src/main/kotlin/.../ObdResponse.kt`  
**–¢–∏–ø**: Data Class

#### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:
```kotlin
val rawData: String
val status: Status
val parsedValue: Any?
val unit: String?
val timestamp: Long
val command: ObdCommand?
```

#### –ú–µ—Ç–æ–¥–∏:
```kotlin
fun isSuccess(): Boolean
fun isError(): Boolean
fun asInt(): Int?
fun asFloat(): Float?
fun asString(): String?
fun asBoolean(): Boolean?
fun formatForDisplay(): String
fun getErrorMessage(): String?
fun isRetryable(): Boolean
```

**–í–∫–ª–∞–¥–µ–Ω—ñ —Ç–∏–ø–∏**:
- `Status` enum: SUCCESS, ERROR, NO_DATA, TIMEOUT, UNSUPPORTED, INVALID_FORMAT, CAN_ERROR, BUS_BUSY, BUFFER_FULL, STOPPED

---

## üîó –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —à–∞—Ä–∞–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           UI Layer (app)                ‚îÇ
‚îÇ    DtcScreen, LiveScreen, NavGraph      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ uses
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Features Layer (features)          ‚îÇ
‚îÇ  DtcViewModel, LiveDataViewModel        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ uses
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Domain Layer (core/domain)           ‚îÇ
‚îÇ   UseCases, Entities, Repository IF     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ implemented by
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Data Layer (core/data)              ‚îÇ
‚îÇ  Repository Impl, DAOs, Mappers         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ uses
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Infrastructure Layer                  ‚îÇ
‚îÇ  Transport, Protocols, Security         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –ú–∞—Ç—Ä–∏—Ü—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π

| –®–∞—Ä | –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è |
|-----|------------------|--------------|------------------|
| **UI** | –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è, user input | Features | - |
| **Features** | UI –ª–æ–≥—ñ–∫–∞, states | Domain, Transport | UI |
| **Domain** | –ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ | - | Features, Data |
| **Data** | Persistence, sync | Domain, Infrastructure | Domain |
| **Transport** | Hardware –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è | - | Data, Protocols |
| **Protocols** | OBD-II —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ | Transport | Data |
| **Security** | –ë–µ–∑–ø–µ–∫–∞, —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è | - | –í—Å—ñ —à–∞—Ä–∏ |
| **Updates** | –°–∏—Å—Ç–µ–º–∞ –æ–Ω–æ–≤–ª–µ–Ω—å | - | Data |

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤

### Domain Layer
- [x] UseCase –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å
- [x] DtcRepository interface
- [x] VehicleRepository interface
- [x] DiagnosticSessionRepository interface
- [x] DtcCode –º–æ–¥–µ–ª—å –∑ –º–µ—Ç–æ–¥–∞–º–∏
- [x] Vehicle –º–æ–¥–µ–ª—å –∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏
- [x] DiagnosticSession –º–æ–¥–µ–ª—å –∑ life-cycle

### Data Layer
- [ ] DtcRepositoryImpl
- [ ] VehicleRepositoryImpl
- [ ] DiagnosticSessionRepositoryImpl
- [ ] Room Database entities
- [ ] DAOs
- [ ] DataMappers

### Transport Layer
- [x] Port interface –ø–æ–≤–Ω–∏–π
- [x] ConnectionManager interface –ø–æ–≤–Ω–∏–π
- [ ] BluetoothPort —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- [ ] UsbSerialPort —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- [ ] TcpPort —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- [ ] ConnectionManagerImpl

### Protocol Layer
- [x] ObdInterface –ø–æ–≤–Ω–∏–π
- [x] ObdProtocol enum
- [x] ObdCommand sealed class
- [x] ObdResponse –º–æ–¥–µ–ª—å
- [ ] Elm327Adapter —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- [ ] PidParser
- [ ] DtcParser

### Features Layer
- [ ] BaseViewModel interface
- [ ] DtcViewModel
- [ ] DtcUiState
- [ ] DtcEvent sealed class
- [ ] DtcEffect sealed class
- [ ] LiveDataViewModel
- [ ] LiveUiState

### UI Layer
- [ ] DtcScreen Compose
- [ ] LiveScreen Compose
- [ ] VehicleSelectionScreen
- [ ] SettingsScreen
- [ ] NavGraph

---

**–ê–≤—Ç–æ—Ä**: RepoBuilder AI Agent  
**–í–µ—Ä—Å—ñ—è**: 1.0.0  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2024

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–ª—É–∂–∏—Ç—å —î–¥–∏–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º —ñ—Å—Ç–∏–Ω–∏ –¥–ª—è –≤—Å—ñ—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —É –ø—Ä–æ—î–∫—Ç—ñ QuantumForce_Code.
